<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="serra-style.css">
    <title>Serra - Menu</title>
</head>

<body>
    <section id="wrapper-list">
        <!-- Tab Beverage -->
        <div id="beverage" class="section active">
            <div class="wrapper-section">
                <div class="title">
                    <img src="./images/letter_s.svg">
                    <img src="./images/letter_p.svg">
                    <img src="./images/letter_i.svg">
                    <img src="./images/letter_n.svg">
                    <img src="./images/letter_e.svg">&nbsp;&nbsp;
                    <img src="./images/letter_e.svg" , class="subtitlesvgminus">&nbsp;&nbsp;
                    <img src="./images/letter_c.svg">
                    <img src="./images/letter_a.svg">
                    <img src="./images/letter_l.svg">
                    <img src="./images/letter_i.svg">
                    <img src="./images/letter_c.svg">
                    <img src="./images/letter_i.svg">
                </div>
                <p>Abbiamo a disposizione 6 spine di birra artigianale e vini naturali al calice. Chiedi pure consiglio allo staff, ovvero trovi tutte le informazioni alla lavagna presso il bancone.</p>
            </div>
            <div class="wrapper-section">
                <div class="title">
                    <img src="./images/letter_c.svg">
                    <img src="./images/letter_o.svg">
                    <img src="./images/letter_c.svg">
                    <img src="./images/letter_k.svg">
                    <img src="./images/letter_t.svg">
                    <img src="./images/letter_a.svg">
                    <img src="./images/letter_i.svg">
                    <img src="./images/letter_l.svg">
                    <img src="./images/letter_s.svg">
                </div>
                <p></p>
                <ul id="cocktails-list"></ul>
                <p></p>
            </div>
            <div class="wrapper-section">
                <div class="title">
                    <img src="./images/letter_a.svg">
                    <img src="./images/letter_n.svg">
                    <img src="./images/letter_a.svg">
                    <img src="./images/letter_l.svg">
                    <img src="./images/letter_c.svg">
                    <img src="./images/letter_o.svg">
                    <img src="./images/letter_l.svg">
                    <img src="./images/letter_i.svg">
                    <img src="./images/letter_c.svg">
                    <img src="./images/letter_i.svg">
                </div>
                <p></p>
                <ul id="analcolici-list"></ul>
            </div>
            <div class="wrapper-section">
                <div class="title">
                    <img src="./images/letter_g.svg">
                    <img src="./images/letter_i.svg">
                    <img src="./images/letter_n.svg">
                    <img src="./images/letter_t.svg">
                    <img src="./images/letter_o.svg">
                    <img src="./images/letter_n.svg">
                    <img src="./images/letter_e.svg">
                    <img src="./images/letter_r.svg">
                    <img src="./images/letter_i.svg">
                    <img src="./images/letter_a.svg">
                </div>
                <p>Tutti i gin tonic premium sono chiusi con acqua tonica Dandy.</p>
                <ul id="gintoneria-list"></ul>
            </div>
            <div class="wrapper-section">
                <div class="title">
                    <img src="./images/letter_a.svg">
                    <img src="./images/letter_m.svg">
                    <img src="./images/letter_a.svg">
                    <img src="./images/letter_r.svg">
                    <img src="./images/letter_i.svg">&nbsp;&nbsp;
                    <img src="./images/letter_e.svg" , class="subtitlesvgminus">&nbsp;&nbsp;
                    <img src="./images/letter_d.svg">
                    <img src="./images/letter_i.svg">
                    <img src="./images/letter_s.svg">
                    <img src="./images/letter_t.svg">
                    <img src="./images/letter_i.svg">
                    <img src="./images/letter_l.svg">
                    <img src="./images/letter_l.svg">
                    <img src="./images/letter_a.svg">
                    <img src="./images/letter_t.svg">
                    <img src="./images/letter_i.svg">
                </div>
                <p></p>
                <ul id="amari-list"></ul>
                <p></p>
            </div>
            <div class="wrapper-section">
                <div class="title">
                    <img src="./images/letter_b.svg">
                    <img src="./images/letter_i.svg">
                    <img src="./images/letter_r.svg">
                    <img src="./images/letter_r.svg">
                    <img src="./images/letter_e.svg">&nbsp;&nbsp;
                    <img src="./images/letter_i.svg" , class="subtitlesvgminus">
                    <img src="./images/letter_n.svg" , class="subtitlesvgminus">&nbsp;&nbsp;
                    <img src="./images/letter_b.svg">
                    <img src="./images/letter_o.svg">
                    <img src="./images/letter_t.svg">
                    <img src="./images/letter_t.svg">
                    <img src="./images/letter_i.svg">
                    <img src="./images/letter_g.svg">
                    <img src="./images/letter_l.svg">
                    <img src="./images/letter_i.svg">
                    <img src="./images/letter_a.svg">
                </div>
                <p></p>
                <ul id="birre-list"></ul>
                <p></p>
            </div>
            <div class="wrapper-section">
                <div class="title">
                    <img src="./images/letter_v.svg">
                    <img src="./images/letter_i.svg">
                    <img src="./images/letter_n.svg">
                    <img src="./images/letter_i.svg">&nbsp;&nbsp;
                    <img src="./images/letter_i.svg" , class="subtitlesvgminus">
                    <img src="./images/letter_n.svg" , class="subtitlesvgminus">&nbsp;&nbsp;
                    <img src="./images/letter_b.svg">
                    <img src="./images/letter_o.svg">
                    <img src="./images/letter_t.svg">
                    <img src="./images/letter_t.svg">
                    <img src="./images/letter_i.svg">
                    <img src="./images/letter_g.svg">
                    <img src="./images/letter_l.svg">
                    <img src="./images/letter_i.svg">
                    <img src="./images/letter_a.svg">
                </div>
                <p></p>
                <ul id="vini-list"></ul>
                <p></p>
            </div>

        </div>

        <!-- Tab Pizzeria -->
        <div id="pizzeria" class="section">
            <div class="wrapper-section">
                <div class="title">
                    <img src="./images/letter_p.svg">
                    <img src="./images/letter_i.svg">
                    <img src="./images/letter_n.svg">
                    <img src="./images/letter_s.svg">
                    <img src="./images/letter_e.svg">
                </div>
                <p>Leggera e croccante, mezza (27cm per una persona) o intera (55cm per due persone), servita su un tagliere e ideale da condividere.</p>
                <ul id="pinse-list"></ul>
                <p></p>
            </div>
            <div class="wrapper-section">
                <div class="title">
                    <img src="./images/letter_p.svg">
                    <img src="./images/letter_i.svg">
                    <img src="./images/letter_z.svg">
                    <img src="./images/letter_z.svg">
                    <img src="./images/letter_e.svg">
                </div>
                <p></p>
                <ul id="pizze-list"></ul>
                <p></p>
            </div>
        </div>

        <!-- Tab Cucina -->
        <div id="cucina" class="section">
            <div class="wrapper-section">
                <div class="title"></div>
                <p>I nostri aperitivi sono disponibili tutta la sera, ma fino alle 19:30 ti bastano 3 EUR per abbinarne uno al tuo drink preferito:</p>
                <ul id="cucina-list"></ul>
                <p></p>
            </div>
            <div class="wrapper-section">
                <div class="title">
                    <img src="./images/letter_b.svg">
                    <img src="./images/letter_u.svg">
                    <img src="./images/letter_r.svg">
                    <img src="./images/letter_g.svg">
                    <img src="./images/letter_e.svg">
                    <img src="./images/letter_r.svg">
                </div>
                <p>Serviti* in un pane al sesamo con patatine fritte e una salsa (ketchup, maionese o senape)</p>
                <ul id="burger-list"></ul>
                <p>* Raddoppia il burger (+5 EUR)</p>
            </div>
            <div class="wrapper-section">
                <div class="title">
                    <img src="./images/letter_f.svg">
                    <img src="./images/letter_r.svg">
                    <img src="./images/letter_i.svg">
                    <img src="./images/letter_t.svg">
                    <img src="./images/letter_t.svg">
                    <img src="./images/letter_i.svg">
                </div>
                <p></p>
                <ul id="fritti-list"></ul>
                <p></p>
            </div>
            <div class="wrapper-section">
                <div class="title">
                    <img src="./images/letter_d.svg">
                    <img src="./images/letter_o.svg">
                    <img src="./images/letter_l.svg">
                    <img src="./images/letter_c.svg">
                    <img src="./images/letter_i.svg">
                </div>
                <p>I nostri dolci sono fatti in casa, dal nostro laboratorio pasticceria.</p>
                <ul id="dolci-list"></ul>
            </div>
        </div>

        <!-- Tab Caffetteria -->
        <div id="caffetteria" class="section">
            <div class="wrapper-section">
                <div class="title">
                    <img src="./images/letter_c.svg">
                    <img src="./images/letter_a.svg">
                    <img src="./images/letter_f.svg">
                    <img src="./images/letter_f.svg">
                    <img src="./images/letter_e.svg">
                    <img src="./images/letter_t.svg">
                    <img src="./images/letter_t.svg">
                    <img src="./images/letter_e.svg">
                    <img src="./images/letter_r.svg">
                    <img src="./images/letter_i.svg">
                    <img src="./images/letter_a.svg">
                </div>
                <p></p>
                <ul id="caffetteria-list"></ul>
                <p></p>
            </div>
            <div class="wrapper-section">
                <div class="title">
                    <img src="./images/letter_b.svg">
                    <img src="./images/letter_a.svg">
                    <img src="./images/letter_r.svg">
                </div>
                <p></p>
                <ul id="bar-list"></ul>
                <p></p>
            </div>
        </div>

        <!-- Tab Info -->
        <div id="info" class="section">
            <div class="wrapper-section">
                <div class="title">
                    <img src="./images/letter_i.svg">
                    <img src="./images/letter_n.svg">
                    <img src="./images/letter_f.svg">
                    <img src="./images/letter_o.svg">
                </div>
                <p></p>
                <ul>
                    <li>
                        <div>
                            <p>IN PROGRESS</p>
                            <p></p>
                        </div>
                        <p class="ingredients"></p>
                    </li>
                </ul>
                <p></p>
            </div>
        </div>

    </section>
    <footer>
        <ul id="navigation-list">
            <li data-tab="tab_1" class="item active" style="background-image: url(./images/icon_wine.svg)"></li>
            <li data-tab="tab_2" class="item " style="background-image: url(./images/icon_pizza.svg)"></li>
            <li data-tab="tab_3" class="item " style="background-image: url(./images/icon_burger.svg)"></li>
            <li data-tab="tab_4" class="item " style="background-image: url(./images/icon_coffee3.svg)"></li>
            <!-- <li data-tab="tab_5" class="item " style="background-image: url(./images/icon_info.svg)"></li> -->
        </ul>
    </footer>
    <script src="https://apis.google.com/js/api.js" async defer onload="gapiLoaded()"></script>
    <script>
        const tab = {
            tab_1: ['beverage'],
            tab_2: ['pizzeria'],
            tab_3: ['cucina'],
            tab_4: ['caffetteria'],
            tab_5: ['info']
        }

        function gapiLoaded() {
            gapi.load('client', initializeGapiClient);
        }

        async function initializeGapiClient() {
            await gapi.client.init({
                apiKey: 'AIzaSyDXTF61MIcENV0s7axmeSc9cu9ROrW-edM',
                scope: 'https://www.googleapis.com/auth/spreadsheets.readonly',
                discoveryDocs: ['https://sheets.googleapis.com/$discovery/rest?version=v4'],
            });
            getValues('1Dd5uJsT3ewVk09FkOsPYGNRpREn3e5mKvS6-RV46SRU', 'menu!A:H', initList)
        }

        function getValues(spreadsheetId, range, callback) {
            try {
                gapi.client.sheets.spreadsheets.values.get({
                    spreadsheetId: spreadsheetId,
                    range: range,
                }).then((response) => {
                    if (callback) callback(response)
                });
            } catch (err) {
                document.getElementById('content').innerText = err.message
            }
        }

        function createElement(data) {
            let elment = `<li><div>`
            elment += `<p>${data[1]}`
            if (data[5] && data[5] === 'x') {
                elment += `<img src="./images/icon_spicy_red.svg" />`
            }
            if (data[6] && data[6] === 'x') {
                elment += `<img src="./images/icon_veg_green.svg" />`
            }
            if (data[7] && data[7] === 'x') {
                elment += `<img src="./images/icon_veg_red.svg" />`
            }
            elment += `</p><p>${data[3]}</p></div><p class="ingredients">${data[2]}</p></li>`
            return elment
        }

        function initList(data) {
            const result = data.result
            if (result.values && result.values.length > 0) {
                let cocktails = ''
                let analcolici = ''
                let gintoneria = ''
                let amari = ''
                let birre = ''
                let vini = ''
                let pinse = ''
                let pizze = ''
                let cucina = ''
                let burger = ''
                let fritti = ''
                let dolci = ''
                let caffetteria = ''
                let bar = ''
                result.values.map((v, k) => {
                    if (k > 0) {
                        if (v[4] === 'x') {
                            switch (v[0]) {
                                case 'cocktails':
                                    cocktails += createElement(v)
                                    document.getElementById(v[0] + '-list').innerHTML = cocktails
                                    break
                                case 'analcolici':
                                    analcolici += createElement(v)
                                    document.getElementById(v[0] + '-list').innerHTML = analcolici
                                    break
                                case 'gintoneria':
                                    gintoneria += createElement(v)
                                    document.getElementById(v[0] + '-list').innerHTML = gintoneria
                                    break
                                case 'amari':
                                    amari += createElement(v)
                                    document.getElementById(v[0] + '-list').innerHTML = amari
                                    break
                                case 'birre':
                                    birre += createElement(v)
                                    document.getElementById(v[0] + '-list').innerHTML = birre
                                    break
                                case 'vini':
                                    vini += createElement(v)
                                    document.getElementById(v[0] + '-list').innerHTML = vini
                                    break
                                case 'pinse':
                                    pinse += createElement(v)
                                    document.getElementById(v[0] + '-list').innerHTML = pinse
                                    break
                                case 'pizze':
                                    pizze += createElement(v)
                                    document.getElementById(v[0] + '-list').innerHTML = pizze
                                    break
                                case 'cucina':
                                    cucina += createElement(v)
                                    document.getElementById(v[0] + '-list').innerHTML = cucina
                                    break
                                case 'burger':
                                    burger += createElement(v)
                                    document.getElementById(v[0] + '-list').innerHTML = burger
                                    break
                                case 'fritti':
                                    fritti += createElement(v)
                                    document.getElementById(v[0] + '-list').innerHTML = fritti
                                    break
                                case 'dolci':
                                    dolci += createElement(v)
                                    document.getElementById(v[0] + '-list').innerHTML = dolci
                                    break
                                case 'caffetteria':
                                    caffetteria += createElement(v)
                                    document.getElementById(v[0] + '-list').innerHTML = caffetteria
                                    break
                                case 'bar':
                                    bar += createElement(v)
                                    document.getElementById(v[0] + '-list').innerHTML = bar
                                    break
                            }
                        }
                    }
                })
            }
        }

        document.querySelectorAll('.item').forEach(item => {
            item.addEventListener('click', (e) => {
                document.querySelectorAll('.item').forEach(i => {
                    i.classList.remove('active')
                })
                e.target.classList.add('active')

                Object.keys(tab).map((k) => {
                    if (k === e.target.dataset.tab) {
                        tab[k].map((v) => {
                            document.querySelector('#' + v).classList.add('active')
                        })
                    } else {
                        tab[k].map((v) => {
                            document.querySelector('#' + v).classList.remove('active')
                        })
                    }
                })
                console.log(e.target.dataset.tab)
            })
        })
    </script>
</body>

</html>